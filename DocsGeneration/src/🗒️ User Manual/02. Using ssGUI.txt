Title: üî® Using ssGUI

This page goes through all the necessary steps to setup ssGUI. 

At the moment, *only SFML* is supported but in the future, we are aiming to support native backend (such as Win32) with OpenGL.

Title: üîé Pre-Requisite

Group: ‚ö†Ô∏è Matching your compiler version (Windows):

On Windows, you will need to match the compiler version for SFML or depending on what compiler you are using.

- If you are using the latest Visual Studio (2022), you should be fine without any tweaks. _VC17_ should be the one that you are using.

- If you are using the latest Visual Studio (2022) but want to build with Visual Studio 2019 toolset, you can install it from the Visual Studio Installer.
(See VisualStudioInstaller.png)

- If you are using GCC/MingGW, you should get the correct *GCC* version of compiler from <here: https://github.com/niXman/mingw-builds-binaries/releases>

    For the differences between seh and sjlj, see <here: https://stackoverflow.com/questions/15670169/what-is-difference-between-sjlj-vs-dwarf-vs-seh>

‚†Ä

Group: üü© SFML:

(See SFML.png)

There are two ways you can do with SFML, either <a. Upgrade your project with the specific SFML snapshot> or <b. Use ssGUI as it is with SFML>

Topic: a. Upgrade your project with the specific SFML snapshot

In order to use ssGUI, you first need to have a *working SFML project*.

Please see the <offical SFML tutorial: https://www.sfml-dev.org/tutorials/2.5/#getting-started> if you don't know how to set it up.

You cannot be using the stable version of SFML, since ssGUI uses some features from SFML Master.

You will need to be using the <(Specific) Snapshot: https://artifacts.sfml-dev.org/by-revision/939ec267dfa98e97438a5b76f79317c7e0738a92/> from SFML.

> ‚ö†Ô∏è Some of those library files are stale and should not be used.
> ‚ö†Ô∏è Since those files are copied automatically from master folder, that's why the dates are not correctly reflected.

> ‚ö†Ô∏è The updated library files are all unix library files, vc16 and vc17.

Finally, you need to make sure the following include statements can access SFML modules as this is how ssGUI access SFML.

================= C++ =================
#include "SFML/Graphics.hpp"
#include "SFML/Window/Keyboard.hpp"
#include "SFML/Window/Mouse.hpp"
=======================================

Topic: b. Use ssGUI as it is with SFML

If you are using ssGUI as it is, or just want to try it out, you first need to download the snapshot for your OS. 

By default, Linux SFML libraries are included in the repo. 

If you are not using Linux, please download the <(Specific) Snapshot: https://artifacts.sfml-dev.org/by-revision/939ec267dfa98e97438a5b76f79317c7e0738a92/> from SFML.

After that, you will need to place those files in _External/sfml_ folder if you are not using the ones in the repo.

‚†Ä

Group: üü¶ CMake:

(See CMake_Resized.png)

Although CMake is not required, it is strongly recommended as it greatly reduce the effort sorting out compiling and linking

and also unifies how to generate make files cross platform.

You can still use Visual Studio by generating a solution file.

Again, this will cover both scenario <a. Using ssGUI in your CMake project> and <b. Using ssGUI as it is>

Topic: a. Using ssGUI in your CMake project

- *1.* First, you need to git clone recursive ssGUI to the directory you like.
    - *a.* Go to the directory you like ssGUI to be in.
    - *b.* Run
    > git clone https://github.com/Neko-Box-Coder/ssGUI.git --recursive 

‚†Ä

- *2.* Add _ssGUI_ to your _CMakeLists.txt_ with
    
    > add_subdirectory("${CMAKE_CURRENT_SOURCE_DIR}/directory/to/ssGUI") 
    
    - Note that this line *MUST* be after adding SFML packages, so after this line in your _CMakeLists.txt_:
    
    > find_package(SFML 3 COMPONENTS System Window Graphics Network Audio REQUIRED)

    - This is because ssGUI will automatically link SFML package.

‚†Ä

- *3.* After adding ssGUI to your CMake project, you will have to link ssGUI to your project.

    So if your project target name is _example_, then this should work.

    > target_link_libraries(example PUBLIC ssGUI)

    - So your CMakeLists.txt might look something like this:

============================== python ==============================
cmake_minimum_required(VERSION 3.14)

# set the project name
project(example)

# add the executable
add_executable(example "${CMAKE_CURRENT_SOURCE_DIR}/main.cpp")

# Set the SFML directory
set(SFML_DIR "${CMAKE_CURRENT_SOURCE_DIR}/Directory/To/SFML/lib/cmake/SFML")

# If you are not sure if it is set correctly, you can print it
# message("${SFML_DIR}")

# Import SFML
find_package(SFML 3 COMPONENTS System Window Graphics Network Audio REQUIRED)

# Import ssGUI
add_subdirectory("${CMAKE_CURRENT_SOURCE_DIR}/directory/to/ssGUI") 

# Link ssGUI to executable
target_link_libraries(example PUBLIC ssGUI)

==================================================================

- *4.* After finishing your _CMakeLists.txt_, you will need to re-configure it in order to show the ssGUI CMake options. 

Topic: b. Using ssGUI as it is

- *1.* You need to configure CMake, here I am using CMake GUI, it might look slightly different than yours.

- *2.* Select ssGUI root directory as "source" and a directory for the build, here I created a directory called "Build" at ssGUI root directory. 

(See CMakeGUI.png)

- *3.* Finally, you need to configure it and select the generator for CMake. 

(See CMakeGUI_2.png)

Here I am just using native default generator.

(See CMakeGUI_3.png)

If your development environment revolve around Visual Studio, you will want to choose Visual Studio as your generator.

> ‚ö†Ô∏è If you using Visual Studio and using VC16 or below, you will have to specify 
> the toolset version number, _v142_ for example for VC16 (Visual Studio 2019)  

(See CMakeToolset.png)

Topic: CMake ssGUI options:

Here should be what it looks like after you first configured ssGUI in CMake, you can hover each option to see the details of it.

(See CMakeGUI_4.png)

> ‚ö†Ô∏è Please note that by default it uses the SFML that comes with the repo.

If you already have your SFML somewhere else, you will need to disable the *_ssGUI_USE_LOCAL_SFML_* option 

and set the *_ssGUI_SFML_INCLUDE_DIR_* option accordingly.

‚†Ä

Group: üõÖ Manually including

If CMake is not an option, you will need to manually include the header and source files.

This is really not recommended because there will be more dependencies added in the future.

Fortunitely, ssGUI's folder structure is very clear and easy to understand.

> ‚ö†Ô∏è Please note SFML stuff are not mentioned here, you will need to apply these changes on top of SFML

Topic: Default Resources

First, you will need to copy the Resources folder to either your project's binary folder or porject's root folder.

‚†Ä

Topic: Include paths:
    > External/clip
    > External/glm
    > External/ssLogger/include
    > Include

‚†Ä

Topic: Source files:

‚ö†Ô∏è To add source files recursively for a given folder for Visual Studio, please see <this post: https://stackoverflow.com/questions/392473/how-do-i-add-an-existing-directory-tree-to-a-project-in-visual-studio>

    - Common
        > External/ssLogger/src/srcLogInit.cpp
        > Src/ssGUI/*.cpp
        > External/clip/clip.cpp
        > External/clip/image.cpp
    
    - Windows
        > External/clip/clip_win.cpp
    
    - MacOS
        > External/clip/clip_osx.mm
    
    - Linux
        > External/clip/clip_x11.cpp

‚†Ä

Topic: Macros needed to be defined:
    - Common
        > ssLOG_CALL_STACK=0
        > ssLOG_SHOW_FILE_NAME=1
        > ssLOG_SHOW_LINE_NUM=1
        > ssLOG_SHOW_FUNC_NAME=1
        > ssLOG_SHOW_TIME=1
        > ssLOG_THREAD_SAFE=0
        > ssLOG_LOG_TO_FILE=0
        > ssLOG_USE_SOURCE

    - Windows
        > _SCL_SECURE_NO_WARNINGS
        > _CRT_SECURE_NO_WARNINGS
        > _SILENCE_CXX17_CODECVT_HEADER_DEPRECATION_WARNING
    
    - Linux
        > HAVE_PNG_H
        > HAVE_XCB_XLIB_H
    
    - MacOS
        > fobjc-arc

‚†Ä

Topic: Flags/System Libraries:
_(The ones without "-" are system libraries)_

    > -Wl,-rpath -Wl,$ORIGIN
    > -fpermissive (GCC)
    > -std=c++0x (GCC)

    - Windows
        > shlwapi (shlwapi.lib for MSVC)
        > windowscodecs (Only MinGW)

    - MacOS
        > Cocoa
        > -stdlib=libc++

    - Linux
        > png
        > xcb
        > pthread
