<!DOCTYPE html>

<html class="NDPage NDContentPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>4. Creating A Custom Widget Or Window.txt</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.3 (Development Release 1) -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');">

<script type="text/javascript">var q = window.location.search;if (q.indexOf("?Theme=") == 0){var t = q.slice(7);var e = t.indexOf(";");if (e != -1){  t = t.slice(0, e);  }if (document.documentElement.className == undefined){ document.documentElement.className = t + "Theme"; }else{ document.documentElement.className += " " + t + "Theme"; }}</script>

<a name="Creating_A_Custom_Widget_Or_Window"></a><a name="Topic1657"></a><div class="CTopic TSection LTextFile first">
 <div class="CTitle">Creating A Custom Widget Or Window</div>
</div>

<a name="⛏️_WIP"></a><a name="Topic1707"></a><div class="CTopic TSection LTextFile">
 <div class="CTitle">⛏️ WIP</div>
</div>

<a name="Header"></a><a name="Topic1629"></a><div class="CTopic TSection LTextFile">
 <div class="CTitle">Header [Outdated 🗑️]</div>
 <div class="CBody"><p>This is the header template for creating a custom widget. Just replace widget with window for custom window.&nbsp; (Remove the &quot;//&quot; for the C++ divider for Natural Docs to work properly when parsing)</p><pre class="CCode">#ifndef SSGUI_CUSTOM_WIDGET<br />#define SSGUI_CUSTOM_WIDGET<br /><br />#include <span class="SHString">&quot;ssGUI/GUIObjectClasses/Widget.hpp&quot;</span><br /><br /><span class="SHComment">//namespace: ssGUI</span><br /><span class="SHKeyword">namespace</span> ssGUI<br />{<br />    <span class="SHComment">/*class: ssGUI::CustomWidget</span><br /><span class="SHComment">    Your class description here.</span><br /><br /><span class="SHComment">    Variables &amp; Constructor:</span><br /><span class="SHComment">    //============================== C++ ==============================</span><br /><span class="SHComment">    protected:</span><br /><span class="SHComment">        //Your variables go here</span><br /><span class="SHComment">    //=================================================================</span><br /><span class="SHComment">    //============================== C++ ==============================</span><br /><span class="SHComment">    CustomWidget::CustomWidget() : [Your variables initialization]</span><br /><span class="SHComment">    {}</span><br /><span class="SHComment">    //=================================================================</span><br /><span class="SHComment">    */</span><br />    <span class="SHKeyword">class</span> CustomWidget : <span class="SHKeyword">public</span> Widget<br />    {<br />        <span class="SHKeyword">private</span>:<br />            CustomWidget&amp; <span class="SHKeyword">operator</span>=(CustomWidget <span class="SHKeyword">const</span>&amp; other) = default;<br /><br />        <span class="SHKeyword">protected</span>:<br />            <span class="SHComment">//Your variables go here</span><br /><br />            CustomWidget(CustomWidget <span class="SHKeyword">const</span>&amp; other);<br />            <span class="SHKeyword">virtual void</span> ConstructRenderInfo() <span class="SHKeyword">override</span>;<br /><br />            <span class="SHKeyword">virtual void</span> MainLogic(ssGUI::Backend::BackendSystemInputInterface* inputInterface, ssGUI::InputStatus&amp; inputStatus,<br />                                    ssGUI::GUIObject* mainWindow) <span class="SHKeyword">override</span>;<br />        <span class="SHKeyword">public</span>:<br />            CustomWidget();<br />            <span class="SHKeyword">virtual</span> ~CustomWidget() <span class="SHKeyword">override</span>;<br /><br />            <span class="SHComment">//function: GetType</span><br />            <span class="SHComment">//See &lt;Widget::GetType&gt;</span><br />            <span class="SHKeyword">virtual</span> ssGUI::Enums::GUIObjectType GetType() <span class="SHKeyword">const override</span>;<br /><br />            <span class="SHComment">//function: Clone</span><br />            <span class="SHComment">//See &lt;Widget::Clone&gt;</span><br />            <span class="SHKeyword">virtual</span> CustomWidget* Clone(<span class="SHKeyword">bool</span> cloneChildren) <span class="SHKeyword">override</span>;<br />    };<br />}<br /><br />#endif</pre></div>
</div>

<a name="Source"></a><a name="Topic1653"></a><div class="CTopic TSection LTextFile last">
 <div class="CTitle">Source [Outdated 🗑️]</div>
 <div class="CBody"><p>This is the source template for creating a custom widget. Just replace widget with window for custom window.</p><pre class="CCode">#include <span class="SHString">&quot;ssGUI/GUIObjectClasses/CustomWidget.hpp&quot;</span><br /><br />#include <span class="SHString">&quot;ssGUI/GUIObjectClasses/MainWindow.hpp&quot;</span> <span class="SHComment">//For getting mouse position</span><br /><br /><span class="SHKeyword">namespace</span> ssGUI<br />{<br />    CustomWidget::CustomWidget(CustomWidget <span class="SHKeyword">const</span>&amp; other) : Widget(other)<br />    {<br />        <span class="SHComment">//Copy the values here.</span><br />    }<br /><br />    <span class="SHComment">//You only need to override this when you are rendering anything.</span><br />    <span class="SHKeyword">void</span> CustomWidget::ConstructRenderInfo()<br />    {<br />        <span class="SHComment">//Get the top-left position of the widget</span><br />        glm::vec2 drawPosition = GetGlobalPosition();<br /><br />        <span class="SHComment">//You can do you drawing here.</span><br />        <span class="SHComment">//You can get the rendering details with DrawingVerticies, DrawingUVs, DrawingColours, DrawingCounts and DrawingProperties</span><br />    }<br /><br />    <span class="SHKeyword">void</span> CustomWidget::MainLogic(ssGUI::Backend::BackendSystemInputInterface* inputInterface, ssGUI::InputStatus&amp; inputStatus,<br />                                ssGUI::GUIObject* mainWindow)<br />    {<br />        <span class="SHComment">//Main logic here</span><br />    }<br /><br />    CustomWidget::CustomWidget()<span class="SHComment">// : [Your variables constructions go here]</span><br />    {<br />        <span class="SHComment">/*If you have any claen-up need to do when this GUI Object is desttroyed, put it in OnObjectDestroyEventCallback.</span><br /><span class="SHComment">        So something like:</span><br /><br /><span class="SHComment">        ssGUI::EventCallbacks::OnObjectDestroyEventCallback* callback = nullptr;</span><br /><span class="SHComment">        if(IsEventCallbackExist(ssGUI::EventCallbacks::OnObjectDestroyEventCallback::EVENT_NAME))</span><br /><span class="SHComment">        {</span><br /><span class="SHComment">            callback = static_cast&lt;ssGUI::EventCallbacks::OnObjectDestroyEventCallback*&gt;</span><br /><span class="SHComment">                (GetEventCallback(ssGUI::EventCallbacks::OnObjectDestroyEventCallback::EVENT_NAME));</span><br /><span class="SHComment">        }</span><br /><span class="SHComment">        else</span><br /><span class="SHComment">        {</span><br /><span class="SHComment">            callback = ssGUI::Factory::Create&lt;ssGUI::EventCallbacks::OnObjectDestroyEventCallback&gt;();</span><br /><span class="SHComment">            AddEventCallback(callback);</span><br /><span class="SHComment">        }</span><br /><br /><span class="SHComment">        callback-&gt;AddEventListener(</span><br /><span class="SHComment">            [](ssGUI::GUIObject* src, ssGUI::GUIObject* container, ssGUI::ObjectsReferences* references)</span><br /><span class="SHComment">            {</span><br /><span class="SHComment">                //Do your clean up here.</span><br /><span class="SHComment">            });</span><br /><span class="SHComment">        */</span><br />    }<br /><br />    CustomWidget::~CustomWidget()<br />    {<br />        NotifyAndRemoveOnObjectDestroyEventCallbackIfExist();<br />    }<br /><br />    <span class="SHComment">//You don't have to override this. If you do want to return your own type,</span><br />    <span class="SHComment">//just edit the GUIObjectType and return it along with WIDGET</span><br />    ssGUI::Enums::GUIObjectType CustomWidget::GetType() <span class="SHKeyword">const</span><br />    {<br />        <span class="SHKeyword">return</span> ssGUI::Enums::GUIObjectType::WIDGET;<br />        <span class="SHComment">//return ssGUI::Enums::GUIObjectType::WIDGET | ssGUI::Enums::GUIObjectType::YOUR_OWN_TYPE;</span><br />    }<br /><br />    <span class="SHComment">//You will always need to override this in order to call the copy constructor</span><br />    CustomWidget* CustomWidget::Clone(<span class="SHKeyword">bool</span> cloneChildren)<br />    {<br />        FUNC_DEBUG_ENTRY();<br />        CustomWidget* temp = <span class="SHKeyword">new</span> CustomWidget(*<span class="SHKeyword">this</span>);<br />        CloneExtensionsAndEventCallbacks(temp);<br /><br />        <span class="SHKeyword">if</span>(cloneChildren)<br />        {<br />            <span class="SHKeyword">if</span>(CloneChildren(<span class="SHKeyword">this</span>, temp) == nullptr)<br />            {<br />                FUNC_DEBUG_EXIT();<br />                <span class="SHKeyword">return</span> nullptr;<br />            }<br />        }<br /><br />        FUNC_DEBUG_EXIT();<br />        <span class="SHKeyword">return</span> temp;<br />    }<br />}</pre></div>
</div>

</body></html>