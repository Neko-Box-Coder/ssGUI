<!DOCTYPE html>

<html class="NDPage NDContentPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>04. Position System.txt</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.3 (Development Release 1) -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');">

<script type="text/javascript">var q = window.location.search;if (q.indexOf("?Theme=") == 0){var t = q.slice(7);var e = t.indexOf(";");if (e != -1){  t = t.slice(0, e);  }if (document.documentElement.className == undefined){ document.documentElement.className = t + "Theme"; }else{ document.documentElement.className += " " + t + "Theme"; }}</script>

<a name="➕_Position_System"></a><a name="Topic27"></a><div class="CTopic TSection LTextFile first">
 <div class="CTitle">➕ Position System</div>
</div>

<a name="🌎_Local_and_Global_Position"></a><a name="Topic28"></a><div class="CTopic TSection LTextFile">
 <div class="CTitle">🌎 Local and Global Position</div>
 <div class="CBody"><p>In ssGUI, there's a <u>local</u> and <u>global</u> position for a GUI object.</p><ul><li><p><b>Local</b> position is the position <b>within the parent</b>.</p><p>This value is different depending on which corner the GUI object is anchored.</p></li><li><p><b>Global</b> position is the position <b>within the <a href="../../../index.html#File:◀️_ssGUI_API_▶️/GUIObjectClasses/MainWindow.hpp:ssGUI.MainWindow" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,1623);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ssGUI::MainWindow</a></b>.</p></li></ul><div class="CImage"><a href="../../../images/PositionSystem.gif" target="_blank" class="ZoomLink"><img src="../../../images/PositionSystem.gif" loading="lazy" class="KnownDimensions" width="880" height="646" style="max-width: 880px" alt="PositionSystem" /></a></div></div>
</div>

<a name="⚓_Anchor_Points_In_Local_Position"></a><a name="Topic29"></a><div class="CTopic TSection LTextFile">
 <div class="CTitle">⚓ Anchor Points In Local Position</div>
 <div class="CBody"><p>You can <b>anchor</b> a GUI Object against different corners of the parent GUI object.</p><p>By default, the anchor point for a child GUI object is top left ↖️.</p><p>You can change the anchor point by calling <a href="../../../index.html#File:◀️_ssGUI_API_▶️/DataClasses/Transform.hpp:ssGUI.Transform.SetAnchorType" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,676);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ssGUI::Transform::SetAnchorType</a> function.</p><p>The local position is basically the <b>distance</b> between the child and the parent with the <b>regarding corner</b>.</p><p>For example, if you set the anchor point to be top right,</p><p>the local position will be the distance between the <b>top right</b> corner of <b>the child</b> and the <b>top right</b> corner of <b>the parent</b>.</p><div class="CImage"><a href="../../../images/PositionSystem2.gif" target="_blank" class="ZoomLink"><img src="../../../images/PositionSystem2.gif" loading="lazy" class="KnownDimensions" width="880" height="646" style="max-width: 880px" alt="PositionSystem2" /></a></div><p>As you might be able to tell, when you change the anchor point, the local position will <b>stay the same</b>.</p><p>This implies that the <b>global position</b> of the child GUI Object can be different when you are changing the anchor point.</p><p>Here's a more obvious example:</p><div class="CImage"><a href="../../../images/PositionSystem3.gif" target="_blank" class="ZoomLink"><img src="../../../images/PositionSystem3.gif" loading="lazy" class="KnownDimensions" width="880" height="646" style="max-width: 880px" alt="PositionSystem3" /></a></div></div>
</div>

<a name="🪟_Local_Position_In_Window"></a><a name="Topic30"></a><div class="CTopic TSection LTextFile last">
 <div class="CTitle">🪟 Local Position In Window</div>
 <div class="CBody"><p>Since there's a titlebar ➖ in a window,</p><p>the local poisiton actually start under the titlebar ↸ instead of the corner of the window.</p><p>This is just basically the <u>corner of the window + the height of the titlebar</u>.</p><div class="CImage"><a href="../../../images/PositionSystem4.gif" target="_blank" class="ZoomLink"><img src="../../../images/PositionSystem4.gif" loading="lazy" class="KnownDimensions" width="880" height="646" style="max-width: 880px" alt="PositionSystem4" /></a></div><p>Source Code (Src/Examples/PositionSystem.cpp):</p><pre class="CCode">#include <span class="SHString">&quot;ssGUI/HeaderGroups/StandardGroup.hpp&quot;</span>                     <span class="SHComment">//Includes all the core ssGUI classes</span><br />#include <span class="SHString">&quot;ssGUI/Extensions/Dockable.hpp&quot;</span><br />#include <span class="SHString">&quot;ssGUI/Extensions/AdvancedSize.hpp&quot;</span><br />#include <span class="SHString">&quot;ssGUI/Extensions/Mask.hpp&quot;</span><br />#include <span class="SHString">&quot;ssGUI/Extensions/Shape.hpp&quot;</span><br />#include <span class="SHString">&quot;ssGUI/Extensions/Layout.hpp&quot;</span><br /><br /><span class="SHComment">//Position example</span><br /><span class="SHKeyword">int</span> main()<br />{<br />    <span class="SHComment">//Create the main window</span><br />    ssGUI::MainWindow mainWindow;<br />    mainWindow.SetSize(glm::vec2(<span class="SHNumber">850</span>, <span class="SHNumber">600</span>));<br /><br />    <span class="SHComment">//A fixed parent widget</span><br />    ssGUI::Widget parentWidget;<br />    parentWidget.SetParent(&amp;mainWindow);<br />    parentWidget.SetPosition(glm::vec2(<span class="SHNumber">50</span>, <span class="SHNumber">70</span>));<br />    parentWidget.SetSize(glm::vec2(<span class="SHNumber">350</span>, <span class="SHNumber">350</span>));<br />    parentWidget.SetBackgroundColor(glm::vec4(<span class="SHNumber">200</span>, <span class="SHNumber">200</span>, <span class="SHNumber">200</span>, <span class="SHNumber">255</span>));<br />    parentWidget.AddExtension(ssGUI::Factory::Create&lt;ssGUI::Extensions::Border&gt;());                 <span class="SHComment">//Adding a border to indicate where the widget is</span><br />    parentWidget.AddExtension(ssGUI::Factory::Create&lt;ssGUI::Extensions::Mask&gt;());                   <span class="SHComment">//Adding a mask extension for masking the draggable window</span><br /><br />    <span class="SHComment">//A caption text for parent widget</span><br />    ssGUI::Text parentWidgetCaption;<br />    parentWidgetCaption.SetText(<span class="SHString">&quot;Parent widget GUI Object&quot;</span>);<br />    parentWidgetCaption.SetSize(glm::vec2(<span class="SHNumber">350</span>, <span class="SHNumber">40</span>));                                                <span class="SHComment">//We set the text widget size same as the parent</span><br />    parentWidgetCaption.SetHorizontalAlignment(ssGUI::Enums::TextAlignmentHorizontal::CENTER);      <span class="SHComment">//So if we align the text to center</span><br />    parentWidgetCaption.SetVerticalAlignment(ssGUI::Enums::TextAlignmentVertical::CENTER);          <span class="SHComment">//It will be the center of the widget</span><br />    parentWidgetCaption.SetParent(&amp;parentWidget);<br /><br />    <span class="SHComment">//Indicator line to visualize the position system</span><br />    ssGUI::Widget lineWidget;<br />    auto shapeEx = ssGUI::Factory::Create&lt;ssGUI::Extensions::Shape&gt;();<br />    <span class="SHKeyword">int</span> lineIndex = shapeEx-&gt;AddAdditionalLine();                                                   <span class="SHComment">//we will set the values of the line later</span><br />    lineWidget.AddExtension(shapeEx);<br />    lineWidget.AddTag(ssGUI::Tags::OVERLAY);                                                        <span class="SHComment">//By adding an overlay tag, it will always show in front</span><br />    lineWidget.SetParent(&amp;mainWindow);<br /><br />    <span class="SHComment">//A child window</span><br />    ssGUI::StandardWindow widgetChild;<br />    widgetChild.GetWindowTitleObject()-&gt;SetText(<span class="SHString">&quot;Child GUI Object&quot;</span>);<br />    widgetChild.SetSize(glm::vec2(<span class="SHNumber">200</span>, <span class="SHNumber">200</span>));<br />    widgetChild.RemoveAnyExtension&lt;ssGUI::Extensions::Dockable&gt;();                                  <span class="SHComment">//By default, it can dock to other windows, we don't need that</span><br />    widgetChild.SetParent(&amp;parentWidget);                                                           <span class="SHComment">//Also by default, dockable extention reparent the GUI object</span><br />                                                                                                    <span class="SHComment">//After dragging the window and we don't want that.</span><br />    <span class="SHComment">//A different parent window</span><br />    ssGUI::StandardWindow parentWindow;<br />    parentWindow.SetPosition(glm::vec2(<span class="SHNumber">450</span>, <span class="SHNumber">70</span>));<br />    parentWindow.GetWindowTitleObject()-&gt;SetText(<span class="SHString">&quot;Parent Window GUI Object&quot;</span>);<br />    parentWindow.SetSize(glm::vec2(<span class="SHNumber">350</span>, <span class="SHNumber">350</span>));<br />    parentWindow.AddExtension(ssGUI::Factory::Create&lt;ssGUI::Extensions::Mask&gt;());                   <span class="SHComment">//Adding a mask extension for masking the child window</span><br />    parentWindow.RemoveAnyExtension&lt;ssGUI::Extensions::Dockable&gt;();                                 <span class="SHComment">//Remove it for now</span><br />    parentWindow.SetParent(&amp;mainWindow);<br /><br />    <span class="SHComment">//A child window inside the parent window</span><br />    ssGUI::StandardWindow* windowChild = widgetChild.Clone(<span class="SHKeyword">true</span>);                                   <span class="SHComment">//We can just clone the child we created before</span><br />    windowChild-&gt;SetBackgroundColor(glm::vec4(<span class="SHNumber">200</span>, <span class="SHNumber">200</span>, <span class="SHNumber">200</span>, <span class="SHNumber">255</span>));<br />    windowChild-&gt;SetParent(&amp;parentWindow);<br /><br />    <span class="SHComment">//Global and local button to visualizing the position system</span><br />    ssGUI::StandardButton globalButton;<br />    globalButton.SetButtonColor(glm::u8vec4(<span class="SHNumber">59</span>, <span class="SHNumber">155</span>, <span class="SHNumber">245</span>, <span class="SHNumber">255</span>));<br />    globalButton.GetButtonTextObject()-&gt;SetNewCharacterColor(glm::u8vec4(<span class="SHNumber">255</span>, <span class="SHNumber">255</span>, <span class="SHNumber">255</span>, <span class="SHNumber">255</span>));<br />    globalButton.GetButtonTextObject()-&gt;SetText(<span class="SHString">&quot;Global Position&quot;</span>);<br />    globalButton.SetPosition(glm::vec2(<span class="SHNumber">300</span>, <span class="SHNumber">445</span>));<br />    globalButton.SetSize(glm::vec2(<span class="SHNumber">120</span>, <span class="SHNumber">40</span>));<br />    globalButton.SetParent(&amp;mainWindow);<br /><br />    ssGUI::StandardButton* localButton = globalButton.Clone(<span class="SHKeyword">true</span>);<br />    localButton-&gt;SetPosition(glm::vec2(<span class="SHNumber">430</span>, <span class="SHNumber">445</span>));<br />    localButton-&gt;GetButtonTextObject()-&gt;SetText(<span class="SHString">&quot;Local Position&quot;</span>);<br /><br />    <span class="SHComment">//All the anchor buttons for the 4 corners</span><br />    ssGUI::StandardButton* anchorTopLeftBtn = ssGUI::Factory::Create&lt;ssGUI::StandardButton&gt;();<br />    anchorTopLeftBtn-&gt;SetParent(&amp;mainWindow);<br />    anchorTopLeftBtn-&gt;SetButtonColor(glm::u8vec4(<span class="SHNumber">161</span>, <span class="SHNumber">59</span>, <span class="SHNumber">245</span>, <span class="SHNumber">255</span>));<br />    anchorTopLeftBtn-&gt;GetButtonTextObject()-&gt;SetNewCharacterColor(glm::u8vec4(<span class="SHNumber">255</span>, <span class="SHNumber">255</span>, <span class="SHNumber">255</span>, <span class="SHNumber">255</span>));<br />    anchorTopLeftBtn-&gt;GetButtonTextObject()-&gt;SetText(<span class="SHString">&quot;Anchor Top Left&quot;</span>);<br />    anchorTopLeftBtn-&gt;SetPosition(glm::vec2(<span class="SHNumber">130</span>, <span class="SHNumber">500</span>));<br />    anchorTopLeftBtn-&gt;SetSize(glm::vec2(<span class="SHNumber">140</span>, <span class="SHNumber">40</span>));<br /><br />    ssGUI::StandardButton* anchorTopRightBtn = anchorTopLeftBtn-&gt;Clone(<span class="SHKeyword">true</span>);<br />    anchorTopRightBtn-&gt;GetButtonTextObject()-&gt;SetText(<span class="SHString">&quot;Anchor Top Right&quot;</span>);<br />    anchorTopRightBtn-&gt;SetPosition(glm::vec2(<span class="SHNumber">280</span>, <span class="SHNumber">500</span>));<br /><br />    ssGUI::StandardButton* anchorBotLeftBtn = anchorTopRightBtn-&gt;Clone(<span class="SHKeyword">true</span>);<br />    anchorBotLeftBtn-&gt;GetButtonTextObject()-&gt;SetText(<span class="SHString">&quot;Anchor Bot Left&quot;</span>);<br />    anchorBotLeftBtn-&gt;SetPosition(glm::vec2(<span class="SHNumber">430</span>, <span class="SHNumber">500</span>));<br /><br />    ssGUI::StandardButton* anchorBotRightBtn = anchorBotLeftBtn-&gt;Clone(<span class="SHKeyword">true</span>);<br />    anchorBotRightBtn-&gt;GetButtonTextObject()-&gt;SetText(<span class="SHString">&quot;Anchor Bot Right&quot;</span>);<br />    anchorBotRightBtn-&gt;SetPosition(glm::vec2(<span class="SHNumber">580</span>, <span class="SHNumber">500</span>));<br /><br />    <span class="SHComment">//Text of showing local and global position for draggableWindow</span><br />    ssGUI::Text positionText;<br />    positionText.SetPosition(glm::vec2(<span class="SHNumber">320</span>, <span class="SHNumber">10</span>));<br />    positionText.SetSize(glm::vec2(<span class="SHNumber">200</span>, <span class="SHNumber">40</span>));<br />    positionText.SetHorizontalAlignment(ssGUI::Enums::TextAlignmentHorizontal::CENTER);<br />    positionText.SetParent(&amp;mainWindow);<br /><br />    <span class="SHComment">//Status to keep track of</span><br />    ssGUI::GUIObject* currentFocusedObj = &amp;widgetChild;<br />    <span class="SHKeyword">bool</span> isLocal = <span class="SHKeyword">true</span>;<br />    ssGUI::Enums::AnchorType currentAnchor = ssGUI::Enums::AnchorType::TOP_LEFT;<br /><br />    <span class="SHComment">//Create the GUIManager, add the main window and start running</span><br />    ssGUI::ssGUIManager guiManager;<br /><br />    <span class="SHComment">//Add update event listener for updating the text for showing the local and global position of the text</span><br />    <span class="SHComment">//We could have used &lt;ssGUI::EventCallback&gt; but for the sake of simplicity, we are doing everything</span><br />    <span class="SHComment">//in the post GUI update listener.</span><br />    guiManager.AddPostGUIUpdateEventListener<br />    (<br />        [&amp;]()<br />        {<br />            <span class="SHComment">//If the mainWindow is closed, just exit.</span><br />            <span class="SHComment">//The reason why we need this is because the parent for GUI objects will be nullptr (when mainWindow is closed)</span><br />            <span class="SHComment">//even though the GUI objects themselves are still valid</span><br />            <span class="SHKeyword">if</span>(mainWindow.IsClosed())<br />                <span class="SHKeyword">return</span>;<br /><br />            <span class="SHComment">//Set the status variables depending which window is focused</span><br />            <span class="SHKeyword">if</span>(currentFocusedObj == &amp;widgetChild &amp;&amp; windowChild-&gt;IsFocused())<br />            {<br />                currentFocusedObj = windowChild;<br />                currentAnchor = currentFocusedObj-&gt;GetAnchorType();<br />            }<br />            <span class="SHKeyword">else if</span>(currentFocusedObj == windowChild &amp;&amp; widgetChild.IsFocused())<br />            {<br />                currentFocusedObj = &amp;widgetChild;<br />                currentAnchor = currentFocusedObj-&gt;GetAnchorType();<br />            }<br /><br />            <span class="SHComment">//Set the isLocal if either of the buttons is clicked</span><br />            <span class="SHKeyword">if</span>(globalButton.GetButtonState() == ssGUI::Enums::ButtonState::CLICKED)<br />                isLocal = <span class="SHKeyword">false</span>;<br />            <span class="SHKeyword">else if</span>(localButton-&gt;GetButtonState() == ssGUI::Enums::ButtonState::CLICKED)<br />                isLocal = <span class="SHKeyword">true</span>;<br /><br />            <span class="SHComment">//Set the anchor for the child GUI object depending which button is clicked</span><br />            <span class="SHKeyword">if</span>(anchorTopLeftBtn-&gt;GetButtonState() == ssGUI::Enums::ButtonState::CLICKED)<br />            {<br />                currentAnchor = ssGUI::Enums::AnchorType::TOP_LEFT;<br />                currentFocusedObj-&gt;SetAnchorType(currentAnchor);<br />            }<br />            <span class="SHKeyword">else if</span>(anchorTopRightBtn-&gt;GetButtonState() == ssGUI::Enums::ButtonState::CLICKED)<br />            {<br />                currentAnchor = ssGUI::Enums::AnchorType::TOP_RIGHT;<br />                currentFocusedObj-&gt;SetAnchorType(currentAnchor);<br />            }<br />            <span class="SHKeyword">else if</span>(anchorBotLeftBtn-&gt;GetButtonState() == ssGUI::Enums::ButtonState::CLICKED)<br />            {<br />                currentAnchor = ssGUI::Enums::AnchorType::BOTTOM_LEFT;<br />                currentFocusedObj-&gt;SetAnchorType(currentAnchor);<br />            }<br />            <span class="SHKeyword">else if</span>(anchorBotRightBtn-&gt;GetButtonState() == ssGUI::Enums::ButtonState::CLICKED)<br />            {<br />                currentAnchor = ssGUI::Enums::AnchorType::BOTTOM_RIGHT;<br />                currentFocusedObj-&gt;SetAnchorType(currentAnchor);<br />            }<br /><br />            <span class="SHComment">//Modify the visualization line to show the position system</span><br />            glm::vec2 startPos = isLocal ? currentFocusedObj-&gt;GetParent()-&gt;GetGlobalPosition() : glm::vec2();<br />            glm::vec2 endPos = currentFocusedObj-&gt;GetGlobalPosition();<br /><br />            <span class="SHKeyword">if</span>(isLocal)<br />            {<br />                <span class="SHKeyword">if</span>(currentAnchor == ssGUI::Enums::AnchorType::TOP_RIGHT)<br />                {<br />                    startPos.x += currentFocusedObj-&gt;GetParent()-&gt;GetSize().x;<br />                    endPos.x += currentFocusedObj-&gt;GetSize().x;<br />                }<br />                <span class="SHKeyword">else if</span>(currentAnchor == ssGUI::Enums::AnchorType::BOTTOM_RIGHT)<br />                {<br />                    startPos.x += currentFocusedObj-&gt;GetParent()-&gt;GetSize().x;<br />                    startPos.y += currentFocusedObj-&gt;GetParent()-&gt;GetSize().y;<br />                    endPos += currentFocusedObj-&gt;GetSize();<br />                }<br />                <span class="SHKeyword">else if</span>(currentAnchor == ssGUI::Enums::AnchorType::BOTTOM_LEFT)<br />                {<br />                    startPos.y += currentFocusedObj-&gt;GetParent()-&gt;GetSize().y;<br />                    endPos.y += currentFocusedObj-&gt;GetSize().y;<br />                }<br /><br />                <span class="SHKeyword">if</span>(currentFocusedObj == windowChild &amp;&amp;<br />                    (currentAnchor == ssGUI::Enums::AnchorType::TOP_LEFT || currentAnchor == ssGUI::Enums::AnchorType::TOP_RIGHT))<br />                {<br />                    startPos += glm::vec2(<span class="SHNumber">0</span>, static_cast&lt;ssGUI::Window*&gt;(currentFocusedObj-&gt;GetParent())-&gt;GetTitlebarHeight());<br />                }<br />            }<br /><br />            shapeEx-&gt;SetAdditionalLine(lineIndex, endPos, startPos, <span class="SHNumber">2</span>, <span class="SHNumber">2</span>, glm::u8vec4(<span class="SHNumber">0</span>, <span class="SHNumber">0</span>, <span class="SHNumber">0</span>, <span class="SHNumber">255</span>), glm::u8vec4(<span class="SHNumber">0</span>, <span class="SHNumber">0</span>, <span class="SHNumber">0</span>, <span class="SHNumber">255</span>), <span class="SHKeyword">false</span>);<br /><br />            <span class="SHComment">//Show the local and global position in text</span><br />            std::<span class="SHKeyword">string</span> showText =<br />                <span class="SHString">&quot;Local Position: &quot;</span> + std::to_string((<span class="SHKeyword">int</span>)currentFocusedObj-&gt;GetPosition().x) + <span class="SHString">&quot;, &quot;</span> + std::to_string((<span class="SHKeyword">int</span>)currentFocusedObj-&gt;GetPosition().y) + <span class="SHString">&quot;\n&quot;</span> +<br />                <span class="SHString">&quot;Global Position: &quot;</span> + std::to_string((<span class="SHKeyword">int</span>)currentFocusedObj-&gt;GetGlobalPosition().x) + <span class="SHString">&quot;, &quot;</span> + std::to_string((<span class="SHKeyword">int</span>)currentFocusedObj-&gt;GetGlobalPosition().y);<br />            positionText.SetText(showText);<br />        }<br />    );<br /><br />    guiManager.AddGUIObject((ssGUI::GUIObject*)&amp;mainWindow);<br />    guiManager.StartRunning();<br />    <span class="SHKeyword">return</span> <span class="SHNumber">0</span>;<br />}</pre></div>
</div>

</body></html>